<p align="center">
  <img alt="TravelClick" src="https://static-tx.travelclick.com/tc-images/logo/travelclick-new-logo-wide.png" />
  <h1 align="center">Welcome to litelement-boilerplate <img height="20" width="20" src="https://github.githubassets.com/images/icons/emoji/unicode/1f44b.png"></h1>
</p>
<p>
  <img alt="Version" src="https://img.shields.io/badge/version-1.0.0-blue.svg?cacheSeconds=2592000" />
  <img src="https://img.shields.io/badge/node-12.14.1-blue.svg" />
  <img src="https://img.shields.io/badge/npm-6.13.4-blue.svg" />
</p>

> This repo contains the source code for the boilerplate for **Web Component** development using **Lit Element**
>
> This is designed to help developers jump start with development of web components without spending time in identifying basic setup and plugins required.
>
> The boilerplate comes equipped with basic dependencies required for development.
> The boilerplate includes the Lint rules which takes care of all the coding standards.
>
> **First thing**
> Clone this repo by executing this command - **`git clone <repo path>`**
>
> Please follow the Installation steps as mentioned below
>

## Pre-Requisites

- [![node](https://img.shields.io/badge/node-%3E%3D%2012.14.1-4CB944.svg)](https://nodejs.org/download/release/v12.14.1/)
- [![npm](https://img.shields.io/badge/npm-%3E%3D%206.13.4-4DDAA4.svg)](https://nodejs.org/download/release/v12.14.1/)

## VS Code Plugins
- code --install-extension streetsidesoftware.code-spell-checker
- code --install-extension eamodio.gitlens
- code --install-extension bierner.lit-html
- code --install-extension sibiraj-s.vscode-scss-formatter
- code --install-extension ms-vscode.vscode-typescript-tslint-plugin


## Author

<img height="16" width="16" src="https://github.githubassets.com/images/icons/emoji/unicode/1f464.png"> **TravelClick**

## Development - Standard and Guidelines Document
*Click [here](https://amadeusworkplace.sharepoint.com/sites/TravelClickTotalSolutionsInitiative/Shared%20Documents/Forms/AllItems.aspx?RootFolder=%2Fsites%2FTravelClickTotalSolutionsInitiative%2FShared%20Documents%2FFrictionless%20eCommerce%2FComponent%20Specification%20Documents&FolderCTID=0x012000344DCB0FCB48844DA09848BF0AA27714) for details*

## Project structure

The folder structure plays a big part in the build process. The current default layout is as mentioned

```sh
      <project-dir>/
        |- .storybook                                 // story book configuration files
        |  |- main.js                                 // main file for configuration
        |  |- manager.js                            
        |  |- preview.js
        |  |- custom-theme.js
        |  |- manager-head.html
        |  |- preview-head.html
        |- server                                     // this folder is for server side 
        |  |- healthy.js
        |  |- index.js
        |  |- server.js                               // Entry point for server app
        |- src/                                       // Root of all Source files
        |  |- app-e2e/                                // separate project with its own package.json for frontend tests
        |  |  |- cypress/                             // auto generated by cypress open 
        |  |  |  |- fixtures
        |  |  |  |- integration                       // this folder is where to place the frontend test
        |  |  |  |- plugins
        |  |  |  |- support
        |  |- stories/                                // All Storybook stories related to components
        |  |  |- hello-world.stories.js               // Story related to component
        |  |- app/                                    // Application level code
        |  |  |- styles.*.*                           // All the styles related files and structure
        |  |  |- shared                               // This is basically referring to the common generic components which will be published. The idea is to keep them inside every component until it gets mature enough to be published as generic package.
        |  |  |- components
        |  |  |  |- counter                           // Specific to counter component 
        |  |  |  |  |- counter-component.ts
        |  |  |  |  |- counter.scss
        |  |  |  |  |- counter.spec.ts
        |  |  |- constants
        |  |  |  |- constant.ts                       // How are we placing App and component specific constants
        |  |  |- types
        |  |  |  |- type-name.ts                      // Each type should have its own file 
        |  |  |- services                             // Services used across the app 
        |  |  |  |- hello-world                       // Specific to counter component 
        |  |  |  |  |- hello-world.service.ts
        |  |  |  |  |-hello-world.service.spec.ts
        |  |  |- templates/                           // Templates related to main entry component
        |  |  |  |  |- template-1/                    // Each template will have its own folder
        |  |  |  |  |  |- template-1.ts               // Template .ts file
        |  |  |  |  |  |- template-1.scss             // scss file related template-1
        |  |  |  |  |- template-2/
        |  |  |  |  |  |- template-2.ts
        |  |  |  |  |  |- template-2.scss
        |  |  |- hello-world.component.ts             // Main entry component
        |  |  |- hello-world.component.scss           // Main scss file
        |  |  |- hello-world.component.spec.ts        // Unit test file for main entry component
        |  |  |- hello-world.constant.ts              // All constants specefic to main component
        |  |  |- interface.ts
        |  |- index.ts                                //  Host Application Bootstrap
        |  |- index.html                              //  Host Application index file
        |  |- public-path.ts                          //  Host Public path variable
        |- .npmrc                                     //  .npmrc file with TravelClick repo details. You should be connected to TravelClick VPN
        |- .gitignore                                 //  Mention all the files which should not be included while you check-in your code in Git
        |- package.json                               //  npm package dependencies
        |- README.md                                  //  Application Readme instructions
        |- tsconfig.json                              //  Global Typescript config
        |- tslint.json                                //  Typescript lint rules
        |- karma.conf.js                              //  Karma configurations
        |- Jenkinsfile                                //  Jenkins command for various stages
        |- webpack.config.js                          //  To enable custom web pack configuration
        |- webpack.config.dev.js                      //  To enable configuration for ng serve command
```

## Dependencies

- [lit-element](https://ghub.io/lit-element): A simple base class for creating fast, lightweight web components
- [tc-comp-style](https://ghub.io/tc-comp-style): Service to include Bootstrap CSS from a common source

## Dev Dependencies

- [@babel/cli](https://ghub.io/@babel/cli): Babel command line.
- [@babel/core](https://ghub.io/@babel/core): Babel compiler core.
- [@babel/plugin-proposal-class-properties](https://ghub.io/@babel/plugin-proposal-class-properties): This plugin transforms static class properties as well as properties declared with the property initializer syntax
- [@babel/plugin-proposal-decorators](https://ghub.io/@babel/plugin-proposal-decorators): Compile class and object decorators to ES5
- [@babel/preset-env](https://ghub.io/@babel/preset-env): A Babel preset for each environment.
- [@types/jasmine](https://ghub.io/@types/jasmine): TypeScript definitions for Jasmine
- [babel-loader](https://ghub.io/babel-loader): babel module loader for webpack
- [chalk](https://ghub.io/chalk): Terminal string styling done right
- [clean-webpack-plugin](https://ghub.io/clean-webpack-plugin): A webpack plugin to remove/clean your build folder(s).
- [copy-webpack-plugin](https://ghub.io/copy-webpack-plugin): Copy files &amp;&amp; directories with webpack
- [css-loader](https://ghub.io/css-loader): css loader module for webpack
- [generate-json-webpack-plugin](https://ghub.io/generate-json-webpack-plugin): Webpack plugin to generate a custom JSON asset
- [html-webpack-plugin](https://ghub.io/html-webpack-plugin): Simplifies creation of HTML files to serve your webpack bundles
- [istanbul-instrumenter-loader](https://ghub.io/istanbul-instrumenter-loader): Istanbul instrumenter loader for webpack
- [jasmine](https://ghub.io/jasmine): Command line jasmine
- [karma](https://ghub.io/karma): Spectacular Test Runner for JavaScript.
- [karma-chrome-launcher](https://ghub.io/karma-chrome-launcher): A Karma plugin. Launcher for Chrome and Chrome Canary.
- [karma-coverage-istanbul-reporter](https://ghub.io/karma-coverage-istanbul-reporter): A karma reporter that uses the latest istanbul 1.x APIs (with full sourcemap support) to report coverage.
- [karma-jasmine](https://ghub.io/karma-jasmine): A Karma plugin - adapter for Jasmine testing framework.
- [karma-webpack](https://ghub.io/karma-webpack): Use webpack with karma
- [node-sass](https://ghub.io/node-sass): Wrapper around libsass
- [optimize-css-assets-webpack-plugin](https://ghub.io/optimize-css-assets-webpack-plugin): A Webpack plugin to optimize \ minimize CSS assets.
- [progress-bar-webpack-plugin](https://ghub.io/progress-bar-webpack-plugin): A progress bar for Webpack.
- [puppeteer](https://ghub.io/puppeteer): A high-level API to control headless Chrome over the DevTools Protocol
- [sass-loader](https://ghub.io/sass-loader): Sass loader for webpack
- [tc-comp-services](https://ghub.io/tc-comp-services): Services included for handling http requests, caching data, handling interceptor, events, initialization and environment configurations
- [terser-webpack-plugin](https://ghub.io/terser-webpack-plugin): Terser plugin for webpack
- [to-string-loader](https://ghub.io/to-string-loader): to-string loader for webpack
- [ts-loader](https://ghub.io/ts-loader): TypeScript loader for webpack
- [tslint](https://ghub.io/tslint): An extensible static analysis linter for the TypeScript language
- [tslint-consistent-codestyle](https://ghub.io/tslint-consistent-codestyle): Additional rules to enforce constistent code style with tslint
- [typedoc](https://ghub.io/typedoc): Create api documentation for TypeScript projects.
- [typedoc-plugin-external-module-name](https://ghub.io/typedoc-plugin-external-module-name): Specify the Typedoc Module of a file using @module annotation
- [typedoc-plugin-internal-external](https://ghub.io/typedoc-plugin-internal-external): Force a File or Reflection (symbol) to be @internal or @external
- [typescript](https://ghub.io/typescript): TypeScript is a language for application scale JavaScript development
- [webpack](https://ghub.io/webpack): Packs CommonJs/AMD modules for the browser. Allows to split your codebase into multiple bundles, which can be loaded on demand. Support loaders to preprocess files, i.e. json, jsx, es7, css, less, ... and your custom stuff.
- [webpack-cli](https://ghub.io/webpack-cli): CLI for webpack &amp; friends
- [webpack-dev-server](https://ghub.io/webpack-dev-server): Serves a webpack app. Updates the browser on changes.
- [webpack-merge](https://ghub.io/webpack-merge): Variant of merge that&#39;s useful for webpack configuration

**`tc-comp-services`** and **`tc-comp-style`** are already included in boilerplate project, please follow below steps before you start development:

1. Modify **`name`**, **`description`** and **`repository.url`** value in package.json file, to reference your project.

## Install

  ```sh
    npm install
  ```

## Usage/Run Application

  ```sh
    npm run start
  ```

>   <b>Development server</b>
>
>   *Navigate to ***`http://localhost:4200`*** to launch the application.*
>
>   The app will automatically reload if you change any of the source files
>

## Run tests

1. Run test with below command, It will generate test results in **`coverage`** directory

  ```sh
    npm run test
  ```

- This command runs all the test cases in the headless Chrome browser
- This also generates the code coverage under **`./coverage`** directory. You can check the status by opening the **`index.html`** file.

## Lint

1. Run **`npm run lint`** to execute the lint task to verify code standards

## Build

To Generate **Dev** build, execute

```sh
  npm run build
```

  And to generate **production** build execute

```sh
  npm run build --prod
```

It will generate build at **`./dist`** folder.

## Documentation

1. Run **`npm run typedoc`** to generate complete code level api documentation
2. It will generate live api documentation in **`./docs`** directory. You can check the generated files by opening the **`index.html`** file.

## Features and Advantages

>- **Easy setup** - It provides easy process to setup a new project
>- **Consistency** across projects for all the rules and standards defined
>- **Documentation** support is in-built
>- **Code coverage** support is in-built
>- **Linting** rules are already specified and tested, helps improve overall code quality

---
---

## STANDARDS AND GUIDELINES FOR DEVELOPERS

**MUST FOLLOW - Generic Guidelines**

* Always create project using **tc-comp-boilerplate**
* Do not change version of any package from boilerplate
* For general services use **tc-comp-service** package
* For common styling use **tc-comp-style** package

* If you are creating singleton service, then export its object instead of class and suffix the exported variable with services

For Ex- Class HelloWorld {}
```sh
  export const HelloWorldService = new HelloWorld();
```

## CSS GUIDELINES

**Class Names**

* Always use wrapper class to the outer most wrapper of the component. Same goes for templates

```sh
  e.g.
  class= amadeus-hos-res-cn-hello-world-comp-wrapper”
  class= amadeus-hos-res-cn-stock-template-wrapper"
```

* Write respective CSS inside that wrapper only
* Using BEM standards are preferable. (http://getbem.com/introduction/)
* Avoid using more than three SCSS nesting levels (unless structure is too simple)

**Common Styles**
* Use generic names relevant to its properties for custom common classes
* Add commenting for custom classes
* Write those classes in common CSS file only

**CSS Helpers***

**Common variables** - variable name should be generic/relevant to its property. It should not include any component/element specific prefix/suffix
**Mixins** - Any SCSS mixin should have prefix as ‘amadeusHosResWcMixinName’ e.g. @mixin amadeusHosResWcBoxShadow
**Media Queries** –

* use bootstrap mixins for standard media queries
* Add commenting for browser specific media queries
* Wherever required, write customized media queries in respective CSS files
* Name of the CSS constant for template styles in get styles() function should have prefix as ‘templateName’ and suffix as ‘TemplateStyle’
*e.g. stockTemplateStyle*

**Browser** – Always test your code in all the browsers being supported for BE. Firefox, Chrome, Edge, Safari
**IE** support is under discussion

* Do not merge your code to master without proper review
* Always run the following commands before pushing your code to git

```sh
  npm start
  npm run test
  npm run build --prod
```
